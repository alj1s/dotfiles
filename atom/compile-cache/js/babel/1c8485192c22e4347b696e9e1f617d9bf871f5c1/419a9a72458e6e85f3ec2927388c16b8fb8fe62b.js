'use babel';
/* @flow */

/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

var _require = require('../lib/searchResultHelpers');

var filterEmptyResults = _require.filterEmptyResults;
var flattenResults = _require.flattenResults;

var SEARCH_RESULTS_FIXTURE = {
  searchService: {
    shouldNotAppearInOutputFolder: {
      items: []
    },
    folderB: {
      items: [1, 2, 3]
    }
  },
  symbolService: {
    folderA: {
      items: [4, 5, 6]
    },
    shouldNotAppearInOutputFolder: {
      items: []
    }
  },
  shouldNotAppearInOutputService: {
    folderA: {
      items: []
    },
    folderB: {
      items: []
    }
  }
};

describe('searchResultHelper', function () {
  describe('emptyResults', function () {
    it('does not include empty folders', function () {
      var filteredResults = filterEmptyResults(SEARCH_RESULTS_FIXTURE);

      expect(filteredResults).toEqual({
        searchService: {
          folderB: {
            items: [1, 2, 3]
          }
        },
        symbolService: {
          folderA: {
            items: [4, 5, 6]
          }
        }
      });
    });
  });

  describe('flattenResults', function () {
    it('returns an array of flattened results', function () {
      expect(flattenResults(SEARCH_RESULTS_FIXTURE)).toEqual([1, 2, 3, 4, 5, 6]);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXdqb25lcy8uYXRvbS9wYWNrYWdlcy9udWNsaWRlLXF1aWNrLW9wZW4vc3BlYy9zZWFyY2hSZXN1bHRIZWxwZXJzLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDOzs7Ozs7Ozs7OztlQWNSLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQzs7SUFGdkMsa0JBQWtCLFlBQWxCLGtCQUFrQjtJQUNsQixjQUFjLFlBQWQsY0FBYzs7QUFHaEIsSUFBSSxzQkFBc0IsR0FBRztBQUMzQixlQUFhLEVBQUU7QUFDYixpQ0FBNkIsRUFBRTtBQUM3QixXQUFLLEVBQUUsRUFBRTtLQUNWO0FBQ0QsV0FBTyxFQUFFO0FBQ1AsV0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDakI7R0FDRjtBQUNELGVBQWEsRUFBRTtBQUNiLFdBQU8sRUFBRTtBQUNQLFdBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ2pCO0FBQ0QsaUNBQTZCLEVBQUU7QUFDN0IsV0FBSyxFQUFFLEVBQUU7S0FDVjtHQUNGO0FBQ0QsZ0NBQThCLEVBQUU7QUFDOUIsV0FBTyxFQUFFO0FBQ1AsV0FBSyxFQUFFLEVBQUU7S0FDVjtBQUNELFdBQU8sRUFBRTtBQUNQLFdBQUssRUFBRSxFQUFFO0tBQ1Y7R0FDRjtDQUNGLENBQUM7O0FBRUYsUUFBUSxDQUFDLG9CQUFvQixFQUFFLFlBQU07QUFDbkMsVUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFNO0FBQzdCLE1BQUUsQ0FBQyxnQ0FBZ0MsRUFBRSxZQUFNO0FBQ3pDLFVBQUksZUFBZSxHQUFHLGtCQUFrQixDQUFDLHNCQUFzQixDQUFDLENBQUM7O0FBRWpFLFlBQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDOUIscUJBQWEsRUFBRTtBQUNiLGlCQUFPLEVBQUU7QUFDUCxpQkFBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7V0FDakI7U0FDRjtBQUNELHFCQUFhLEVBQUU7QUFDYixpQkFBTyxFQUFFO0FBQ1AsaUJBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1dBQ2pCO1NBQ0Y7T0FDRixDQUFDLENBQUM7S0FDSixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQU07QUFDL0IsTUFBRSxDQUFDLHVDQUF1QyxFQUFFLFlBQU07QUFDaEQsWUFBTSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQ25CLENBQUM7S0FDSCxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL2FuZHJld2pvbmVzLy5hdG9tL3BhY2thZ2VzL251Y2xpZGUtcXVpY2stb3Blbi9zcGVjL3NlYXJjaFJlc3VsdEhlbHBlcnMtc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciB7XG4gIGZpbHRlckVtcHR5UmVzdWx0cyxcbiAgZmxhdHRlblJlc3VsdHMsXG59ID0gcmVxdWlyZSgnLi4vbGliL3NlYXJjaFJlc3VsdEhlbHBlcnMnKTtcblxudmFyIFNFQVJDSF9SRVNVTFRTX0ZJWFRVUkUgPSB7XG4gIHNlYXJjaFNlcnZpY2U6IHtcbiAgICBzaG91bGROb3RBcHBlYXJJbk91dHB1dEZvbGRlcjoge1xuICAgICAgaXRlbXM6IFtdXG4gICAgfSxcbiAgICBmb2xkZXJCOiB7XG4gICAgICBpdGVtczogWzEsIDIsIDNdXG4gICAgfSxcbiAgfSxcbiAgc3ltYm9sU2VydmljZToge1xuICAgIGZvbGRlckE6IHtcbiAgICAgIGl0ZW1zOiBbNCwgNSwgNl0sXG4gICAgfSxcbiAgICBzaG91bGROb3RBcHBlYXJJbk91dHB1dEZvbGRlcjoge1xuICAgICAgaXRlbXM6IFtdLFxuICAgIH0sXG4gIH0sXG4gIHNob3VsZE5vdEFwcGVhckluT3V0cHV0U2VydmljZToge1xuICAgIGZvbGRlckE6IHtcbiAgICAgIGl0ZW1zOiBbXSxcbiAgICB9LFxuICAgIGZvbGRlckI6IHtcbiAgICAgIGl0ZW1zOiBbXSxcbiAgICB9LFxuICB9XG59O1xuXG5kZXNjcmliZSgnc2VhcmNoUmVzdWx0SGVscGVyJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZW1wdHlSZXN1bHRzJywgKCkgPT4ge1xuICAgIGl0KCdkb2VzIG5vdCBpbmNsdWRlIGVtcHR5IGZvbGRlcnMnLCAoKSA9PiB7XG4gICAgICB2YXIgZmlsdGVyZWRSZXN1bHRzID0gZmlsdGVyRW1wdHlSZXN1bHRzKFNFQVJDSF9SRVNVTFRTX0ZJWFRVUkUpO1xuXG4gICAgICBleHBlY3QoZmlsdGVyZWRSZXN1bHRzKS50b0VxdWFsKHtcbiAgICAgICAgc2VhcmNoU2VydmljZToge1xuICAgICAgICAgIGZvbGRlckI6IHtcbiAgICAgICAgICAgIGl0ZW1zOiBbMSwgMiwgM10sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3ltYm9sU2VydmljZToge1xuICAgICAgICAgIGZvbGRlckE6IHtcbiAgICAgICAgICAgIGl0ZW1zOiBbNCwgNSwgNl0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZmxhdHRlblJlc3VsdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3JldHVybnMgYW4gYXJyYXkgb2YgZmxhdHRlbmVkIHJlc3VsdHMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZmxhdHRlblJlc3VsdHMoU0VBUkNIX1JFU1VMVFNfRklYVFVSRSkpLnRvRXF1YWwoXG4gICAgICAgIFsxLCAyLCAzLCA0LCA1LCA2XVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==