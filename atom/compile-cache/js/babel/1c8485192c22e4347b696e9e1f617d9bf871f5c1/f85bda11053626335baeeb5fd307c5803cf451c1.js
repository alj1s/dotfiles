var atomUtils = require("../atomUtils");
var json2dts_1 = require("../../json2dts/json2dts");
function registerJson2dtsCommands() {
    atom.commands.add("atom-workspace", "typescript:JSON-to-Definition", function (e) {
        if (!atomUtils.commandForTypeScript(e)) return;
        var editor = atom.workspace.getActiveTextEditor();
        var filePath = editor.getPath();
        var selection = editor.getSelectedBufferRange();
        var text = editor.getSelectedText();
        var range = editor.getSelectedBufferRange();
        editor.setTextInBufferRange(range, json2dts_1.convert(text));
    });
}
exports.registerJson2dtsCommands = registerJson2dtsCommands;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXdqb25lcy8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvZGlzdC9tYWluL2F0b20vY29tbWFuZHMvanNvbjJkdHNDb21tYW5kcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDeEMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDcEQsU0FBUyx3QkFBd0IsR0FBRztBQUNoQyxRQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSwrQkFBK0IsRUFBRSxVQUFVLENBQUMsRUFBRTtBQUM5RSxZQUFJLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxFQUNsQyxPQUFPO0FBQ1gsWUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0FBQ2xELFlBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUNoQyxZQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztBQUNoRCxZQUFJLElBQUksR0FBRyxNQUFNLENBQUMsZUFBZSxFQUFFLENBQUM7QUFDcEMsWUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFDNUMsY0FBTSxDQUFDLG9CQUFvQixDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7S0FDaEUsQ0FBQyxDQUFDO0NBQ047QUFDRCxPQUFPLENBQUMsd0JBQXdCLEdBQUcsd0JBQXdCLENBQUMiLCJmaWxlIjoiL1VzZXJzL2FuZHJld2pvbmVzLy5hdG9tL3BhY2thZ2VzL2F0b20tdHlwZXNjcmlwdC9kaXN0L21haW4vYXRvbS9jb21tYW5kcy9qc29uMmR0c0NvbW1hbmRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGF0b21VdGlscyA9IHJlcXVpcmUoXCIuLi9hdG9tVXRpbHNcIik7XG52YXIganNvbjJkdHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9qc29uMmR0cy9qc29uMmR0c1wiKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySnNvbjJkdHNDb21tYW5kcygpIHtcbiAgICBhdG9tLmNvbW1hbmRzLmFkZCgnYXRvbS13b3Jrc3BhY2UnLCAndHlwZXNjcmlwdDpKU09OLXRvLURlZmluaXRpb24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWF0b21VdGlscy5jb21tYW5kRm9yVHlwZVNjcmlwdChlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGVkaXRvciA9IGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVRleHRFZGl0b3IoKTtcbiAgICAgICAgdmFyIGZpbGVQYXRoID0gZWRpdG9yLmdldFBhdGgoKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3RlZEJ1ZmZlclJhbmdlKCk7XG4gICAgICAgIHZhciB0ZXh0ID0gZWRpdG9yLmdldFNlbGVjdGVkVGV4dCgpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0ZWRCdWZmZXJSYW5nZSgpO1xuICAgICAgICBlZGl0b3Iuc2V0VGV4dEluQnVmZmVyUmFuZ2UocmFuZ2UsIGpzb24yZHRzXzEuY29udmVydCh0ZXh0KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnJlZ2lzdGVySnNvbjJkdHNDb21tYW5kcyA9IHJlZ2lzdGVySnNvbjJkdHNDb21tYW5kcztcbiJdfQ==