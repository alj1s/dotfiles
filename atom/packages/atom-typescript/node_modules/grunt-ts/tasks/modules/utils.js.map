{"version":3,"file":"utils.js","sourceRoot":"","sources":["utils.ts"],"names":["makeRelativePath","sharedStart","findCommonPath","insertArrayAt","endsWith","isJavaScriptFile","format","getRandomHex","getTempFile","getFiles","getDirs","_getAll","_checkDirPathArgument","_checkExcludeArgument"],"mappings":"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"}